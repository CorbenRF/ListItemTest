(function(){"use strict";var t={9951:function(t,e,i){var s=i(5130),n=i(6768);function o(t,e){const i=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(i)}var c=i(1241);const d={},r=(0,c.A)(d,[["render",o]]);var a=r,l=i(1387);const u={class:"main"};function m(t,e,i,s,o,c){const d=(0,n.g2)("ListsScreen"),r=(0,n.g2)("OutputScreen");return(0,n.uX)(),(0,n.CE)("div",u,[(0,n.bF)(d),(0,n.bF)(r)])}const h={class:"list__content"};function p(t,e,i,s,o,c){const d=(0,n.g2)("ListComponent");return(0,n.uX)(),(0,n.CE)("div",h,[(0,n.bF)(d,{listName:"List 1",list_id:1}),(0,n.bF)(d,{listName:"List 2",list_id:2}),(0,n.bF)(d,{listName:"List 3",list_id:3}),(0,n.bF)(d,{listName:"List 4",list_id:4}),(0,n.bF)(d,{listName:"List 5",list_id:5})])}var I=i(4232);const k={class:"list"},f={"aria-labelledby":"list_dropdown"},v={class:"container"},g={key:0,class:"checkmark"},L={key:1,class:"checkmark indeterminate"};function _(t,e,i,o,c,d){const r=(0,n.g2)("ItemComponent");return(0,n.uX)(),(0,n.CE)("div",k,[(0,n.Lk)("details",null,[(0,n.Lk)("summary",f,[(0,n.Lk)("label",v,[(0,n.eW)((0,I.v_)(i.listName)+" ",1),(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>c.checked=t),onChange:e[1]||(e[1]=(...t)=>d.toggleList&&d.toggleList(...t))},null,544),[[s.lH,c.checked]]),2!==c.state?((0,n.uX)(),(0,n.CE)("span",g)):((0,n.uX)(),(0,n.CE)("span",L))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.numberOfItems,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"list__item",key:t},[(0,n.bF)(r,{itemId:t,listId:this.list_id},null,8,["itemId","listId"])])))),128))])])}var y={};const b=y;var C=b,O={methods:{getRandomInt(t,e){const i=Math.ceil(t),s=Math.floor(e);return Math.floor(Math.random()*(s-i+1))+i},getRandomColor(){const t="0123456789ABCDEF";let e="#";for(let i=0;i<6;i++)e+=t[Math.floor(16*Math.random())];return e}}};const E=O;var X=E;const q={class:"item"},F={class:"container"},w=(0,n.Lk)("span",{class:"checkmark"},null,-1),N={class:"item__properties"};function x(t,e,i,o,c,d){return(0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("label",F,[(0,n.eW)(" Item "+(0,I.v_)(i.itemId)+" ",1),(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>c.checked=t),onChange:e[1]||(e[1]=(...t)=>d.toggle&&d.toggle(...t))},null,544),[[s.lH,c.checked]]),w]),(0,n.Lk)("div",N,[(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0",class:"item__quantity","onUpdate:modelValue":e[2]||(e[2]=t=>this.quantity=t),onChange:e[3]||(e[3]=(...t)=>d.changeItemQuantity&&d.changeItemQuantity(...t))},null,544),[[s.Jo,this.quantity]]),(0,n.bo)((0,n.Lk)("input",{type:"color",name:"color",class:"item__color","onUpdate:modelValue":e[4]||(e[4]=t=>c.color=t)},null,512),[[s.Jo,c.color]])])])}var $={props:["itemId","listId"],mixins:[C,X],data(){return{checked:!1,color:this.getRandomColor(),quantity:this.getRandomInt(0,15)}},methods:{toggle(){this.quantity<0&&(this.quantity=0),this.$store.dispatch("updateItem",{listId:this.listId,itemId:this.itemId,newItem:{amount:this.quantity,checked:this.checked,color:this.color}})},changeItemQuantity(){this.quantity<0&&(this.quantity=0),this.$store.dispatch("changeItemQuantity",{listId:this.listId,itemId:this.itemId,quantity:this.quantity})}},computed:{item(){return this.$store.getters.getItemById({listId:this.listId,itemId:this.itemId})}},watch:{item:{deep:!0,handler(t){this.checked=t.checked,this.quantity=t.amount}}},created(){this.$store.dispatch("addItem",{listId:this.listId,itemId:this.itemId,amount:this.quantity,checked:this.checked,color:this.color})}};const A=(0,c.A)($,[["render",x]]);var Q=A,M={props:["listName","list_id"],components:{ItemComponent:Q},mixins:[X,C],data(){return{checked:!1,state:0,totalItemsCheckedInList:0,partialCheckbox:!1}},computed:{numberOfItems(){return this.getRandomInt(4,10)},checkPartialCheckbox(){return this.partialCheckbox},item(){return this.$store.getters.getListById(this.list_id)}},watch:{item:{deep:!0,handler(t){console.log(t),this.state=t.checked,this.checked=!!this.state}}},methods:{toggleList(){this.state=this.checked?1:0,this.$store.dispatch("updateItemsCheckedInList",{id:this.list_id,checked:this.state?1:0})}},created(){this.$store.dispatch("addList",{id:this.list_id,itemList:[],checked:this.state})}};const R=(0,c.A)(M,[["render",_]]);var j=R,B={components:{ListComponent:j}};const T=(0,c.A)(B,[["render",p]]);var K=T;const S={class:"list__content"};function U(t,e,i,s,o,c){const d=(0,n.g2)("ListOutput");return(0,n.uX)(),(0,n.CE)("div",S,[(0,n.bF)(d,{listName:"List 1",listId:1,class:"output__item"}),(0,n.bF)(d,{listName:"List 2",listId:2,class:"output__item"}),(0,n.bF)(d,{listName:"List 3",listId:3,class:"output__item"}),(0,n.bF)(d,{listName:"List 4",listId:4,class:"output__item"}),(0,n.bF)(d,{listName:"List 5",listId:5,class:"output__item"})])}const V={class:"output__content"},P={class:"output__header"},W={class:"output__name"},H={key:0,class:"output__squares"},J={key:0,class:"squares__ordered"},D={key:0,class:"output__row"},z=["onClick"],G={key:1,class:"squares__random"},Y={class:"output__row"},Z=["onClick"];function tt(t,e,i,s,o,c){return(0,n.uX)(),(0,n.CE)("div",V,[(0,n.Lk)("div",P,[(0,n.Lk)("span",W,(0,I.v_)(i.listName),1),(0,n.Lk)("button",{type:"button",class:"output__btn",onClick:e[0]||(e[0]=(...t)=>c.toggleRandom&&c.toggleRandom(...t))},(0,I.v_)(this.random?"Сортировать":"Перемешать"),1)]),c.list.checked?((0,n.uX)(),(0,n.CE)("div",H,[o.random?((0,n.uX)(),(0,n.CE)("div",G,[(0,n.Lk)("div",Y,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.randomOrderOfItems,(t=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:"square",onClick:e=>c.removeOne(t.id),style:(0,I.Tr)({backgroundColor:t.color})},null,12,Z)])))),256))])])):((0,n.uX)(),(0,n.CE)("div",J,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.list.itemList,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id},[t.checked?((0,n.uX)(),(0,n.CE)("div",D,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.amount,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"square",onClick:e=>c.removeOne(t.id),style:(0,I.Tr)({backgroundColor:t.color})},null,12,z)))),256))])):(0,n.Q3)("",!0)])))),128))]))])):(0,n.Q3)("",!0)])}i(4114);var et={props:["listName","listId"],data(){return{random:!1}},computed:{list(){return this.$store.getters.getListById(this.listId)},randomOrderOfItems(){const t=this.$store.getters.getListById(this.listId).itemList,e=[];for(const i of t)if(i.amount>0)for(let t=0;t<i.amount;t++)i.checked&&e.push({color:i.color,checked:i.checked,id:i.id});return console.log(e),e.sort((()=>.5-Math.random()))}},methods:{toggleRandom(){this.random=!this.random},removeOne(t){this.$store.dispatch("removeOneOfItem",{listId:this.listId,itemId:t})}}};const it=(0,c.A)(et,[["render",tt]]);var st=it,nt={components:{ListOutput:st}};const ot=(0,c.A)(nt,[["render",U]]);var ct=ot,dt={data(){return{}},components:{ListsScreen:K,OutputScreen:ct}};const rt=(0,c.A)(dt,[["render",m]]);var at=rt;const lt=[{path:"/",name:"home",component:at}],ut=(0,l.aE)({history:(0,l.LA)("/"),routes:lt});var mt=ut,ht=i(782),pt=(0,ht.y$)({state:{lists:[]},getters:{getListById:t=>e=>t.lists.find((t=>t.id===e)),getItemById:t=>({listId:e,itemId:i})=>{const s=t.lists.find((t=>t.id===e));return s?s.itemList.find((t=>t.id===i)):null}},mutations:{addItemToList(t,e){const{listId:i,itemId:s,amount:n,checked:o,color:c}=e,d=t.lists.find((t=>t.id===i));d?d.itemList.push({id:s,amount:n,checked:o,color:c}):t.lists.push({id:i,itemList:[{id:s,amount:n,checked:o,color:c}]})},addList(t,e){t.lists.push(e)},updateItemInList(t,e){const{listId:i,itemId:s,newItem:n}=e,o=t.lists.find((t=>t.id===i));if(o){const t=o.itemList.find((t=>t.id===s));if(t){Object.assign(t,n);const e=o.itemList.reduce(((t,e)=>t+(e.checked?1:0)),0);e===o.itemList.length?o.checked=1:o.checked=e>0?2:0}}},updateItemsChecked(t,{id:e,checked:i}){const s=t.lists.find((t=>t.id===e));s&&(s.checked=i,s.itemList.forEach((t=>{t.checked=!!i})))},removeOneItem(t,e){const i=t.lists.find((t=>t.id===e.listId));if(i){const t=i.itemList.find((t=>t.id===e.itemId));t&&(t.amount-=1)}},changeItemQty(t,e){const i=t.lists.find((t=>t.id===e.listId));if(i){const t=i.itemList.find((t=>t.id===e.itemId));t&&(t.amount=e.quantity)}}},actions:{addItem({commit:t},e){t("addItemToList",e)},updateItem({commit:t},e){t("updateItemInList",e)},addList({commit:t},e){t("addList",e)},updateItemsCheckedInList({commit:t},{id:e,checked:i}){t("updateItemsChecked",{id:e,checked:i})},removeOneOfItem({commit:t},e){t("removeOneItem",e)},changeItemQuantity({commit:t},e){t("changeItemQty",e)}},modules:{}});(0,s.Ef)(a).use(pt).use(mt).mount("#app")}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,s,n,o){if(!s){var c=1/0;for(l=0;l<t.length;l++){s=t[l][0],n=t[l][1],o=t[l][2];for(var d=!0,r=0;r<s.length;r++)(!1&o||c>=o)&&Object.keys(i.O).every((function(t){return i.O[t](s[r])}))?s.splice(r--,1):(d=!1,o<c&&(c=o));if(d){t.splice(l--,1);var a=n();void 0!==a&&(e=a)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[s,n,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,o,c=s[0],d=s[1],r=s[2],a=0;if(c.some((function(e){return 0!==t[e]}))){for(n in d)i.o(d,n)&&(i.m[n]=d[n]);if(r)var l=r(i)}for(e&&e(s);a<c.length;a++)o=c[a],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(l)},s=self["webpackChunklist"]=self["webpackChunklist"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],(function(){return i(9951)}));s=i.O(s)})();
//# sourceMappingURL=app.12f5029e.js.map